{"componentChunkName":"component---src-templates-post-tsx","path":"/sql_cheat_sheet/","result":{"data":{"markdownRemark":{"html":"<p>이 글은 MySQL의 SQL 쿼리 중 DML(Data Manipulation Language), 즉 테이블의 행을 검색 및 변경하는 기능을 정리하고 또 찾아보기 위한 목적으로 작성했다.</p>\n<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<blockquote>\n<p><a href=\"https://www.w3schools.com/mysql/trymysql.asp?filename=trysql_select_all\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기</a>서 웹으로 SQL 쿼리를 실행해 볼 수 있다.</p>\n</blockquote>\n<ul>\n<li>SQL 쿼리는 대문자와 소문자를 구분하지 않는다. 즉, 쿼리를 대문자로 쓰던 소문자로 쓰던 섞어서 쓰던 같은 결과를 도출한다. 아래에서 다루겠지만, 함수뿐만이 아닌 문자열 데이터도 대문자와 소문자를 구분하지 않는다.</li>\n<li>SQL 쿼리의 한 줄 주석은 <code class=\"language-text\">-- {주석}</code> 형태로 쓸 수 있다.</li>\n</ul>\n<h2 id=\"테이블-내-탐색\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%82%B4-%ED%83%90%EC%83%89\" aria-label=\"테이블 내 탐색 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 내 탐색</h2>\n<h3 id=\"select\" style=\"position:relative;\"><a href=\"#select\" aria-label=\"select permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SELECT</h3>\n<p>데이터베이스에서 테이블의 행을 검색하기 위한 가장 기본적인 함수는 <code class=\"language-text\">SELECT {칼럼(column)의 이름, 또는 불러올 값}</code>이며 칼럼을 검색하는 경우 뒤에 <code class=\"language-text\">FROM {테이블}</code>로 칼럼이 속한 테이블 이름을 명시한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> \n    col1 <span class=\"token keyword\">AS</span> <span class=\"token keyword\">First</span><span class=\"token punctuation\">,</span> \n    col2<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sql'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<ul>\n<li>전체 행을 선택하기 위해 <code class=\"language-text\">SELECT *</code> 문을 쓸 수 있다.</li>\n<li><code class=\"language-text\">SELECT</code> 뒤에는 상수, 문자열, NULL 값을 쓸 수 있다.</li>\n<li>검색 결과에 가져올 칼럼의 이름을 바꾸려면 <code class=\"language-text\">SELECT {본래 이름} AS {바꿀 이름}</code>을 활용한다.</li>\n</ul>\n<p>나아가 <code class=\"language-text\">WHERE {행 조건}</code>으로 검색할 행의 조건을 지정할 수 있으며 <code class=\"language-text\">ORDER BY {정렬 기준}</code>으로 행을 정렬할 수 있다. 또한 <code class=\"language-text\">LIMIT {가져올 갯수}</code>를 통해 가져올 행의 개수를 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1<span class=\"token punctuation\">,</span> col2<span class=\"token punctuation\">,</span> col3\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> condition1\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> sort_standard1\n<span class=\"token keyword\">LIMIT</span> integer1</code></pre></div>\n<ul>\n<li><code class=\"language-text\">ORDER BY</code>는 디폴트로 오름차순으로 정리하며, <code class=\"language-text\">ORDER BY {정렬 기준} ASC</code>으로 오름차순을 명시할 수 있다. 내림차순은 <code class=\"language-text\">ORDER BY {정렬 기준} DESC</code>를 활용한다.</li>\n<li><code class=\"language-text\">LIMIT {건너뛸 갯수}, {가져올 갯수}</code>로 인자를 두개 입력할 수 있다. 이 경우, <code class=\"language-text\">건너뛸 갯수 : 건너뛸 갯수 + 가져올 갯수</code> 범위만큼 검색한다.</li>\n</ul>\n<p>행을 그룹으로 묶어서 검색할 수도 있다. <code class=\"language-text\">GROUP BY {그룹들}</code>은 그룹별 값을 도출하며, <code class=\"language-text\">HAVING {그룹 내 조건}</code>을 통해 그룹으로 묶은 뒤의 조건을 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> \n    col1<span class=\"token punctuation\">,</span> \n    <span class=\"token function\">COUNT</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">DISTINCT</span> col2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> condition1\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> col1\n<span class=\"token keyword\">HAVING</span> in_group_condition1</code></pre></div>\n<ul>\n<li><code class=\"language-text\">GROUP BY {그룹들}</code>은 복수의 기준으로 그룹을 묶을 수 있다.</li>\n<li><code class=\"language-text\">WHERE</code>가 그룹하기 전에 조건을 기준으로 하는 필터라면, <code class=\"language-text\">HAVING</code>은 그룹한 이후의 필터이다. </li>\n<li><code class=\"language-text\">DISTINCT</code>는 중복 값을 제거하는 연산이며, 종합하여 <code class=\"language-text\">COUNT (DISTINCT {칼럼})</code>은 칼럼 내의 고유한 값들의 개수를 세어 반환한다.</li>\n</ul>\n<h3 id=\"연산자\" style=\"position:relative;\"><a href=\"#%EC%97%B0%EC%82%B0%EC%9E%90\" aria-label=\"연산자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>연산자</h3>\n<p>SQL 쿼리의 연산자는 파이썬과 비슷하기도, 다르기도 하다.</p>\n<p>사칙연산  <code class=\"language-text\">+, - , *, /</code>과 나머지 연산 <code class=\"language-text\">%, MOD</code>을 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">(</span>col1 <span class=\"token operator\">+</span> col2<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> col1 MOD <span class=\"token number\">3</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<p>논리 연산자로 <code class=\"language-text\">{값} IS /NOT/ {True 또는 False}</code>을 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1 <span class=\"token operator\">IS</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> col2 <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">TRUE</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<p>논리 연산자로 <code class=\"language-text\">AND 또는 &amp;&amp;</code>와 <code class=\"language-text\">OR 또는 ||</code>를 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1<span class=\"token punctuation\">,</span> col2\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> col1 <span class=\"token operator\">IS</span> <span class=\"token boolean\">TRUE</span> <span class=\"token operator\">AND</span> col2 <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">TRUE</span></code></pre></div>\n<p>등호 <code class=\"language-text\">=</code>와 부등호 <code class=\"language-text\">!= 또는 &lt;></code>를 사용할 수 있다. 등호는 파이썬과 다르게 <code class=\"language-text\">=</code>로 나타냄에 주의하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1<span class=\"token punctuation\">,</span> col1 <span class=\"token operator\">=</span> col2 <span class=\"token keyword\">AS</span> Equality<span class=\"token punctuation\">,</span> col3\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> col3 <span class=\"token operator\">&lt;></span> <span class=\"token number\">1</span></code></pre></div>\n<p><code class=\"language-text\">/NOT/ BETWEEN {최소값} AND {최대값}</code>로 데이터의 범위를 검증할 수 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1<span class=\"token punctuation\">,</span> col2\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> col2 <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">0</span> <span class=\"token operator\">AND</span> <span class=\"token number\">5</span></code></pre></div>\n<p>데이터가 어떤 값 사이에 있는지 <code class=\"language-text\">/NOT/ IN ({값들})</code>로 검증할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1 <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'good'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'fair'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'excellent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> col2\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<p>최소값 <code class=\"language-text\">MIN({값들})</code>, 최대값 <code class=\"language-text\">MAX({값들})</code>, 개수 <code class=\"language-text\">COUNT({값들})</code>, 합 <code class=\"language-text\">SUM({값들})</code>, 평균 <code class=\"language-text\">AVG({값들})</code>을 구할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">MIN</span><span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<ul>\n<li><code class=\"language-text\">COUNT({값들})</code>는 NULL 값을 제외한 행의 개수를 센다.</li>\n</ul>\n<h3 id=\"문자열\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4\" aria-label=\"문자열 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문자열</h3>\n<p>파이썬에는 정규표현식 개념이 있어서 패턴에 맞는 문자열을 검색할 수 있다. SQL에도 비슷한 기능이 있으며, <code class=\"language-text\">LIKE {...%패턴...}</code>형식 또는 <code class=\"language-text\">LIKE {..._패턴...}</code>으로 구현한다. 전자는 <code class=\"language-text\">%</code>에 해당되는 문자가 없거나 여러개의 문자가 해당될 수 있는 반면, 후자인 <code class=\"language-text\">_</code>에는 한 개의 문자만 대응 될 수 있다. 또한, 글의 초반에 언급한 대로 SQL 문자열은 대문자와 소문자를 구분하지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%sql%'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'sql%'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'S%'</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%L'</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'S%L'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'_ql'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'_q_'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">-- True</span>\n    <span class=\"token string\">'SQL'</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'__ql_'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- False</span></code></pre></div>\n<p>또한 <code class=\"language-text\">REPLACE({문자열}, {대체될 문자열}, {대체할 문자열})</code>을 활용해 부분 문자열을 문자열에서 찾아 다른 문자열로 대체할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    <span class=\"token keyword\">REPLACE</span><span class=\"token punctuation\">(</span><span class=\"token string\">'It is 12 AM'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'AM'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PM'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- It is 12 PM</span></code></pre></div>\n<p>입력한 문자열을 순서대로 이어주는 파이썬의 join과 비슷한 기능을 하는 함수도 있다. <code class=\"language-text\">CONCAT ({문자열들})</code>은 입력 문자열을 그대로 이어주고, <code class=\"language-text\">CONCAT_WS({연결 문자열}, {문자열들})</code>을 통해 첫번쨰 인자로 전달한 문자열을 이용해 다음 인자로 주어진 문자열들을 잇는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'Hi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'there '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- Hi there !</span>\n<span class=\"token keyword\">SELECT</span> CONCAT_WS<span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2022</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'AM'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 2022-7-8-AM</span></code></pre></div>\n<ul>\n<li>문자열이 아닌 정수값을 입력해도 문자열로 이은 결과를 반환한다.</li>\n</ul>\n<p>문자열을 왼쪽 또는 오른쪽에서 자를 수도 있다. 왼쪽에서부터 자르기 위해서 <code class=\"language-text\">LEFT({대상 문자열}, {자를 길이})</code>를 활용하고, 오른쪽에서 부터 자르기 위해 <code class=\"language-text\">RIGHT({대상 문자열}, {자를 길이})</code>를 활용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    <span class=\"token keyword\">LEFT</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyyy-mm-dd hh:mm'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">DATE</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- yyyy-mm-dd</span>\n    <span class=\"token keyword\">RIGHT</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyyy-mm-dd hh:mm'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">TIME</span> <span class=\"token comment\">-- hh:mm</span></code></pre></div>\n<p>문자열의 왼쪽 또는 오른쪽에 패딩을 할 수 있다. 왼쪽 패딩을 위해서는 <code class=\"language-text\">LPAD ({대상 문자열}, {패딩 횟수}, {패딩 문자})</code>을, 오른쪽 패딩을 위해서는 <code class=\"language-text\">RPAD ({대상 문자열}, {패딩 횟수}, {패딩 문자})</code>을 활용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  LPAD<span class=\"token punctuation\">(</span><span class=\"token string\">'This is padding'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- ...This is padding</span>\n  RPAD<span class=\"token punctuation\">(</span><span class=\"token string\">'This is padding'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">-- This is padding...</span></code></pre></div>\n<p>공백을 줄여주는 함수도 있다. <code class=\"language-text\">TRIM {문자열}</code>을 통해 입력 문자열의 양쪽 공백을 제거할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    TRIM<span class=\"token punctuation\">(</span><span class=\"token string\">' trim me '</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 'trim me'</span></code></pre></div>\n<h3 id=\"시간날짜\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84%EB%82%A0%EC%A7%9C\" aria-label=\"시간날짜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간/날짜</h3>\n<p>MySQL에는 날짜와 시간을 나타내는 변수 자료형 DATETIME이 있다. </p>\n<p>DATETIME 자료형을 생성하는 방법은 <code class=\"language-text\">DATE({날짜 문자열})</code> 또는 <code class=\"language-text\">TIME({시간 문자열})</code>을 이용하는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  <span class=\"token string\">'2022-7-1'</span> <span class=\"token operator\">=</span> <span class=\"token string\">'2022-07-01'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- FALSE</span>\n  <span class=\"token keyword\">DATE</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2022-7-1'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">DATE</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2022-07-01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- TRUE</span>\n  <span class=\"token string\">'1:18:4'</span> <span class=\"token operator\">=</span> <span class=\"token string\">'01:18:04'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">-- FALSE</span>\n  <span class=\"token keyword\">TIME</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1:18:4'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">TIME</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01:18:04'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- TRUE</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">DATE</code>와 <code class=\"language-text\">TIME</code>에 전달하는 문자열은 0을 제외해도 무방하다.</li>\n</ul>\n<p>DATETIME에서 연도, 월, 요일명, 날짜, 시간, 분, 초를 추출하는 함수는 각각 <code class=\"language-text\">YEAR({DATETIME})</code>, <code class=\"language-text\">MONTH({DATETIME})</code>, <code class=\"language-text\">DAYNAME({DATETIME})</code>, <code class=\"language-text\">DAY({DATETIME})</code>, <code class=\"language-text\">HOUR({DATETIME})</code>, <code class=\"language-text\">MINUTE({DATETIME})</code>, <code class=\"language-text\">SECOND({DATETIME})</code>이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  <span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">,</span>\n  DAYNAME<span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> DAYNAME<span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">DAY</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">HOUR</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">HOUR</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">MINUTE</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">MINUTE</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">SECOND</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">SECOND</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">NOW()</code>는 현재 날짜와 시간을 DATETIME 자료형으로 반환한다.</li>\n</ul>\n<h3 id=\"조건문\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EB%AC%B8\" aria-label=\"조건문 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조건문</h3>\n<p>파이썬의 if 조건문에 비할 바는 아니지만, SQL에서도 조건에 따라 다른 값을 반환하도록 지정할 수 있다. <code class=\"language-text\">IF ({조건}, {조건이 참일 때 반환값}, {조건이 거짓일 때 반환값})</code> 형식으로 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> \n    <span class=\"token keyword\">IF</span> <span class=\"token punctuation\">(</span>col1 <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Bigger than 3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Equal or Smaller than 3'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<p>반환하고자 하는 경우의 수를 더 세세하게 나눌 수도 있다. <code class=\"language-text\">CASE WHEN {경우1} THEN {결과값1} ... ELSE {이외의 경우 반환값} END</code> 형식으로 나타내며, <code class=\"language-text\">WHEN {경우} THEN {결과값}</code>은 추가할 수 있다. 만약 앞서 나온 조건에 해당되는 경우 이미 반환값이 결정되었을 것이므로, 뒤에 나온 조건은 앞서 나온 조건들에 해당되지 않는 경우만 포함한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    <span class=\"token keyword\">CASE</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'-1은 양수다.'</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'-1은 0이다.'</span>\n        <span class=\"token keyword\">ELSE</span> <span class=\"token string\">'-1은 음수다.'</span>\n    <span class=\"token keyword\">END</span></code></pre></div>\n<p>검색한 행에 NULL값이 있고 이 값만 변경하고자 하면 <code class=\"language-text\">IF ({비교 대상} = NULL, {바꿀 값}, {비교 대상})</code>으로 표현할 수 있다. 특별히 이와 같은 작업을 하는 함수가 있으며, <code class=\"language-text\">IFNULL({비교 대상}, {바꿀 값})</code>으로 간단하게 표현한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    IFNULL<span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> table1</code></pre></div>\n<h2 id=\"테이블-합치기\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EC%B9%98%EA%B8%B0\" aria-label=\"테이블 합치기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 합치기</h2>\n<h3 id=\"서브쿼리\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC\" aria-label=\"서브쿼리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서브쿼리</h3>\n<p>서브쿼리란 쿼리를 통해 검색하고자 하는 값을 임시로 불러와 쿼리 안에 쿼리를 사용하는 방법이다. 바로 다음에 나오는 <code class=\"language-text\">JOIN</code>과 같이 외부 테이블의 값을 가져오는 방법 중의 하나이지만, 데이터를 저장하지 않고 임시로 사용한다는 점에서 차이가 있다. 서브 쿼리는 괄호내에 쿼리문을 작성하는 <code class=\"language-text\">(SELECT ... FROM ...)</code> 형식으로 사용할 수 있다. 한가지 예는 다음과 같다. </p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> col1<span class=\"token punctuation\">,</span> col2\n<span class=\"token keyword\">FROM</span> table1\n<span class=\"token keyword\">WHERE</span> col2 <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> col3 <span class=\"token keyword\">FROM</span> table2<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> col1</code></pre></div>\n<p>여기서는 <code class=\"language-text\">WHERE</code>의 조건문에 서브쿼리를 사용하여 외부 테이블의 값을 가져왔다. </p>\n<h3 id=\"join\" style=\"position:relative;\"><a href=\"#join\" aria-label=\"join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JOIN</h3>\n<p>원하는 정보가 여러 테이블에 흩어져 있는 경우, 몇 개의 외부 테이블을 합치는 명령어가 필요하다. Pandas 패키지에서 데이터프레임을 병합하는 경우를 생각해보자(사실 pandas 공식 문서에는 merge를 SQL의 JOIN을 들어 설명하고 있지만, 이미 pandas를 사용해본 경험이 있다면 이해가 빠를 것이다). <code class=\"language-text\">df1.merge(df2, how='inner', on='col1')</code>명령어는 df1에 df2를 양쪽 데이터프레임에 공통적으로 존재하는 col1의 값들이 일치되도록 병합한다. 반면 <code class=\"language-text\">df1.merge(df2, how='left', on='col1')</code>은 왼쪽, 즉 df1의 키만 보존하며 두 데이터프레임을 병합한다.</p>\n<p>이처럼 테이블을 합치는 방법은 여러가지가 있으며, 여기서는 INNER, OUTER, CROSS JOIN을 소개한다. </p>\n<h4 id=\"inner-join\" style=\"position:relative;\"><a href=\"#inner-join\" aria-label=\"inner join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INNER JOIN</h4>\n<p>INNER JOIN을 위해서는 합치고자 하는 테이블에 공통된 키가 있어야 한다. 쿼리는 <code class=\"language-text\">JOIN {외부 테이블} ON {공통된 칼럼}</code> 형식이다. 공통된 키에 대해 병합되기 때문에 공통된 칼럼에 대한 두 테이블의 교집합을 떠올릴 수 있다(단, 엄밀히 테이블은 집합이 아니다!).</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> A<span class=\"token punctuation\">.</span>col2<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">.</span>col2<span class=\"token punctuation\">,</span> C<span class=\"token punctuation\">.</span>col2\n<span class=\"token keyword\">FROM</span> table1 A\n<span class=\"token keyword\">JOIN</span> table2 B\n  <span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>col1 <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>col1\n<span class=\"token keyword\">JOIN</span> table3 C\n  <span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>col2 <span class=\"token operator\">=</span> C<span class=\"token punctuation\">.</span>col3\n<span class=\"token keyword\">WHERE</span> condition1\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> sort_standard1</code></pre></div>\n<ul>\n<li><code class=\"language-text\">FROM table1 A</code>는 table1을 A로 명명하고, <code class=\"language-text\">JOIN table2 B</code>는 table2를 B로 명명한다. 이후 어느 테이블에서 행을 가져오는지 명시할 때 새로 명시한 이름을 사용할 수 있다.</li>\n<li>위의 예에서 처럼 여러개의 테이블을 병합할 수 있다. 쿼리 형식 <code class=\"language-text\">JOIN {외부 테이블} ON {공통된 칼럼}</code>만 지키면 된다.</li>\n<li>또한, <code class=\"language-text\">WHERE</code>나 <code class=\"language-text\">ORDER BY</code>등 <code class=\"language-text\">SELECT</code>에서 익힌 조건문들도 그대로 사용할 수 있다는 걸 잊지 말자.</li>\n</ul>\n<p>그렇다면 하나의 테이블을 두번 JOIN할 일은 없을까? 의외로 하나의 테이블을 다시 외부 테이블처럼 JOIN하는 활용처도 있으며, 이를 SELF JOIN이라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    A<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> A<span class=\"token punctuation\">.</span>col2 <span class=\"token keyword\">AS</span> val<span class=\"token punctuation\">,</span>\n    B<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">.</span>col2 <span class=\"token keyword\">AS</span> next_val\n<span class=\"token keyword\">FROM</span> table1 A \n<span class=\"token keyword\">JOIN</span> table2 B\n  <span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>col2 <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>col2</code></pre></div>\n<p>이처럼 하나의 칼럼에 lag를 두는 경우, 서로 다른 칼럼을 가져오는 것처럼 JOIN으로 불러와 활용할 수 있다. </p>\n<h4 id=\"outer-join\" style=\"position:relative;\"><a href=\"#outer-join\" aria-label=\"outer join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OUTER JOIN</h4>\n<p>OUTER JOIN은 공통된 키가 아닌 하나의 테이블이 가지는 키를 기준으로 합치는 방법이며, 합치고자 하는 방향에 따라 LEFT JOIN과 RIGHT JOIN으로 나뉜다. 쿼리는 <code class=\"language-text\">LEFT JOIN {외부 테이블}</code>과 <code class=\"language-text\">RIGHT JOIN {외부 테이블}</code>이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> A<span class=\"token punctuation\">.</span>col2<span class=\"token punctuation\">,</span> A<span class=\"token punctuation\">.</span>col3\n<span class=\"token keyword\">FROM</span> table1 A\n<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> table2 B\n       <span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>col2 <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>col2 <span class=\"token operator\">AND</span> A<span class=\"token punctuation\">.</span>col3 <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>col3</code></pre></div>\n<ul>\n<li><code class=\"language-text\">LEFT JOIN</code>을 <code class=\"language-text\">RIGHT JOIN</code>으로 바꿔 쓸 수 있다. </li>\n<li>LEFT JOIN은 table1(또는 A)의 키를 기준으로 합치며, RIGHT JOIN은 table2(또는 B)의 키를 기준으로 합친다. 기준이 되지 않는 테이블에 있는 칼럼 값이 NULL이더라도 기준이 되는 칼럼 값이 존재하면 반환하므로, 결과값으로 반환되는 테이블의 행의 갯수는 기준이 되는 칼럼의 합치기 전 행의 갯수와 같다.</li>\n</ul>\n<h4 id=\"cross-join\" style=\"position:relative;\"><a href=\"#cross-join\" aria-label=\"cross join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CROSS JOIN</h4>\n<p>두 칼럼 값의 모든 조합 쌍을 나타내는 카르테지안 프로덕트(Cartesian Product)를 실행하는 방법도 있다. <code class=\"language-text\">CROSS JOIN {외부 테이블}</code> 명령으로 구현하며, 이를 CROSS JOIN이라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>col1<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">.</span>col2\n<span class=\"token keyword\">FROM</span> table1 A\n<span class=\"token keyword\">CROSS</span> <span class=\"token keyword\">JOIN</span> table2 B</code></pre></div>\n<p>결과값은 <code class=\"language-text\">A.col1</code>와 <code class=\"language-text\">B.col2</code>의 모든 조합 썅을 담은 테이블이다.</p>\n<h2 id=\"테이블-및-데이터-생성수정삭제\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%83%9D%EC%84%B1%EC%88%98%EC%A0%95%EC%82%AD%EC%A0%9C\" aria-label=\"테이블 및 데이터 생성수정삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 및 데이터 생성/수정/삭제</h2>\n<h3 id=\"테이블-생성수정삭제\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%83%9D%EC%84%B1%EC%88%98%EC%A0%95%EC%82%AD%EC%A0%9C\" aria-label=\"테이블 생성수정삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 생성/수정/삭제</h3>\n<p>테이블을 생성하기 위해 <code class=\"language-text\">CREATE TABLE {테이블 이름} ({칼럼1}{칼럼1 자료형}{칼럼1 옵션들}, ..., {칼럼N}{칼럼N 자료형}{칼럼N 옵션들})</code> 명령어를 활용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> table1 <span class=\"token punctuation\">(</span>\n    col1 <span class=\"token keyword\">INT</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n    col2 <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    col3 <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n    col5 <span class=\"token keyword\">INT</span> <span class=\"token keyword\">UNSIGNED</span><span class=\"token punctuation\">,</span>\n    col6 <span class=\"token keyword\">INT</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>옵션은 생략할 수 있다.</li>\n<li><code class=\"language-text\">AUTO_INCREMENT</code>는 행을 생성 할 때마다 자동으로 1씩 증가하는 칼럼 옵션이다.</li>\n<li><code class=\"language-text\">UNIQUE</code>는 중복 입력만 불가한 칼럼 옵션이다.</li>\n<li><code class=\"language-text\">NOT NULL</code>은 NULL 값만 입력 불가한 칼럼 옵션이다.</li>\n<li><code class=\"language-text\">PRIMARY KEY</code>는 중복 입력과 NULL 값 입력이 불가한 칼럼 옵션이다. <code class=\"language-text\">UNIQUE</code>와 <code class=\"language-text\">NOT NULL</code>을 합한 기능을 제공한다.</li>\n<li><code class=\"language-text\">UNSIGNED</code>는 숫자 자료형에만 적용 가능하며, 양수만 입력받는 칼럼 옵션이다.</li>\n</ul>\n<p>당연하게도 테이블 이름이나 컬럼의 옵션, 또는 컬럼 자체를 수정할 일이 발생한다. 테이블의 이름을 변경하는 명령어는 <code class=\"language-text\">ALTER TABLE {테이블 이름} RENAME TO {바꿀 이름}</code>이다. 테이블을 삭제하기 위해서는 <code class=\"language-text\">DROP TABLE {테이블 이름}</code>을 활용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> table1 <span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">TO</span> better_table<span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> better_table</code></pre></div>\n<p>컬럼의 이름 또는 자료형을 변경하는 명령어는 <code class=\"language-text\">ALTER COLUMN {칼럼 이름} {바꿀 이름} {바꿀 자료형}</code>이다. 즉 칼럼 이름을 통해 칼럼에 접근해 자료형을 수정할 수 있다. 컬럼을 추가하는 함수는 <code class=\"language-text\">ADD COLUMN {추가할 칼럼 이름} {자료형} {옵션}</code>이며, 삭제는 테이블과 비슷하게 <code class=\"language-text\">DROP COLUMN {칼럼 이름}</code>을 활용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">COLUMN</span> col1 col1 <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">COLUMN</span> col2 cool_col <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">COLUMN</span> col3<span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">ADD</span> <span class=\"token keyword\">COLUMN</span> col1_2 <span class=\"token keyword\">INT</span> <span class=\"token keyword\">AFTER</span> col1</code></pre></div>\n<ul>\n<li>함수들을 <code class=\"language-text\">,</code>로 구분해 여러 함수를 한번에 실행할 수 있다.</li>\n</ul>\n<h3 id=\"데이터-추가삭제변형\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EA%B0%80%EC%82%AD%EC%A0%9C%EB%B3%80%ED%98%95\" aria-label=\"데이터 추가삭제변형 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 추가/삭제/변형</h3>\n<p>테이블과 칼럼을 수정하는 방법을 알았으니, 데이터를 수정하는 방법도 필요한 것을 알 수 있다. 데이터란 <code class=\"language-text\">SELECT</code>문으로 검색하던 일련의 값들이 담긴 행을 의미한다.</p>\n<p>데이터를 추가하기 위해서는 <code class=\"language-text\">INSERT INTO {테이블 이름} ({칼럼1, 칼럼2, 칼럼3}) VALUES ({칼럼1 값, 칼럼2 값, 칼럼3 값})</code>을 활용한다. </p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> table1 <span class=\"token punctuation\">(</span>{col1<span class=\"token punctuation\">,</span> col2<span class=\"token punctuation\">,</span> col3}<span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>{val1<span class=\"token punctuation\">,</span> val2<span class=\"token punctuation\">,</span> val3}<span class=\"token punctuation\">)</span></code></pre></div>\n<p>특정 조건에 해당하는 데이터를 삭제하기 위해서는 <code class=\"language-text\">DELETE FROM {테이블 이름} WHERE {조건문}</code>을 활용한다. 이 때 삭제되는 것은 칼럼이 아닌 행임에 유의한다. 테이블을 초기화하기 위해서는 <code class=\"language-text\">TRUNCATE {테이블 이름}</code>을 활용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> table1\n      <span class=\"token keyword\">WHERE</span> ISNULL<span class=\"token punctuation\">(</span>col1<span class=\"token punctuation\">)</span></code></pre></div>\n<p>테이블 내의 데이터들을 특정 조건으로 필터링한 뒤에 필터링 된 데이터만 바꾸고 싶은 경우가 있다. 이때는 <code class=\"language-text\">UPDATE {테이블 이름} SET {변경 사항들} WHERE {조건문}</code>을 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> table1\n<span class=\"token keyword\">SET</span> \n    col1 <span class=\"token operator\">=</span> <span class=\"token string\">'changed'</span><span class=\"token punctuation\">,</span>\n    col2 <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">WHERE</span> col3 <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">SELECT</span> col1\n        <span class=\"token keyword\">FROM</span> table2\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">WHERE</code>로 시작하는 조건문 없이, 모든 행을 변경할 수는 없다. </li>\n</ul>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ol>\n<li>얄코의 MySQL, <a href=\"https://www.yalco.kr/lectures/sql/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.yalco.kr/lectures/sql/</a></li>\n<li>프로그래머스 SQL 고득점 Kit, <a href=\"https://school.programmers.co.kr/learn/challenges?tab=sql_practice_kit\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://school.programmers.co.kr/learn/challenges?tab=sql_practice_kit</a></li>\n<li>책 &#x3C;데이터베이스 첫걸음>, 미크, 기무라 메이지</li>\n<li>MySQL 8.0 Reference Manual, <a href=\"https://docs.oracle.com/cd/E17952_01/mysql-8.0-en/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.oracle.com/cd/E17952_01/mysql-8.0-en/index.html</a></li>\n</ol>","excerpt":"이 글은 MySQL의 SQL 쿼리 중 DML(Data Manipulation Language), 즉 테이블의 행을 검색 및 변경하는 기능을 정리하고 또 찾아보기 위한 목적으로 작성했다. 들어가며 여기서 웹으로 SQL 쿼리를 실행해 볼 수 있다. SQ…","tableOfContents":"<ul>\n<li><a href=\"/sql_cheat_sheet/#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></li>\n<li>\n<p><a href=\"/sql_cheat_sheet/#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%82%B4-%ED%83%90%EC%83%89\">테이블 내 탐색</a></p>\n<ul>\n<li><a href=\"/sql_cheat_sheet/#select\">SELECT</a></li>\n<li><a href=\"/sql_cheat_sheet/#%EC%97%B0%EC%82%B0%EC%9E%90\">연산자</a></li>\n<li><a href=\"/sql_cheat_sheet/#%EB%AC%B8%EC%9E%90%EC%97%B4\">문자열</a></li>\n<li><a href=\"/sql_cheat_sheet/#%EC%8B%9C%EA%B0%84%EB%82%A0%EC%A7%9C\">시간/날짜</a></li>\n<li><a href=\"/sql_cheat_sheet/#%EC%A1%B0%EA%B1%B4%EB%AC%B8\">조건문</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/sql_cheat_sheet/#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EC%B9%98%EA%B8%B0\">테이블 합치기</a></p>\n<ul>\n<li><a href=\"/sql_cheat_sheet/#%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC\">서브쿼리</a></li>\n<li><a href=\"/sql_cheat_sheet/#join\">JOIN</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/sql_cheat_sheet/#%ED%85%8C%EC%9D%B4%EB%B8%94-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%83%9D%EC%84%B1%EC%88%98%EC%A0%95%EC%82%AD%EC%A0%9C\">테이블 및 데이터 생성/수정/삭제</a></p>\n<ul>\n<li><a href=\"/sql_cheat_sheet/#%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%83%9D%EC%84%B1%EC%88%98%EC%A0%95%EC%82%AD%EC%A0%9C\">테이블 생성/수정/삭제</a></li>\n<li><a href=\"/sql_cheat_sheet/#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EA%B0%80%EC%82%AD%EC%A0%9C%EB%B3%80%ED%98%95\">데이터 추가/삭제/변형</a></li>\n</ul>\n</li>\n<li><a href=\"/sql_cheat_sheet/#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>","fields":{"slug":"/sql_cheat_sheet/"},"frontmatter":{"title":"SQL Cheat Sheet","date":"Jul 06, 2022","tags":["Database","SQL"],"keywords":["AI doodle","Near"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/sql_cheat_sheet/","series":[],"lastmod":"2022-07-06"}},"staticQueryHashes":["2027115977","694178885"]}